version: 1
type: pipeline-template
name: "Pipeline for Maven Docker Apps in Kubernetes"
description: "Continuos Integration pipeline to model Maven Docker Apps projects using a Kaniko agent"  
parameters:
  - name: k8_agent_yaml
    displayName: "Kubernetes Agent yaml"
    allowedValues: ["maven_kaniko_pod_cache", "maven_kaniko_pod"]
    type: string
  - name: g_cred
    displayName: "Git Credential"
    type: credentials
  - name: g_url
    displayName: "Git Repository URL"
    type: string
  - name: g_branch
    displayName: "Git Branch"
    type: string
  - name: d_path
    type: string
    displayName: "Dockerfile build path"
  - name: d_latest
    type: boolean
    displayName: "Tag as latest?"
    defaultValue: false
  - name: d_registry
    type: string
    displayName: "Docker Registry"
    defaultValue: "supportbeescloud"